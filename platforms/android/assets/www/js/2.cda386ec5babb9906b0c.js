webpackJsonp([2],{553:function(t,e,i){function l(t){i(634)}var s=i(8)(i(636),i(637),l,"data-v-857ee090",null);t.exports=s.exports},559:function(t,e,i){function l(t){i(560)}var s=i(8)(i(562),i(568),l,null,null);t.exports=s.exports},560:function(t,e,i){var l=i(561);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("552ca49e",l,!0)},561:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,".list-wrapper{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;background:#222}.pulldown-wrapper{position:absolute;width:100%;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:all;transition:all}.pulldown-wrapper .after-trigger{margin-top:10px}.pullup-wrapper{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 0}",""])},562:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(82),s=i.n(l),n=i(179),r=i.n(n),a=i(177),o=i.n(a),c=i(563),d=i.n(c),u=i(122);e.default={props:{data:{type:Array,default:function(){return[]}},probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},listenBeforeScroll:{type:Boolean,default:!1},direction:{type:String,default:"vertical"},scrollbar:{type:null,default:!1},pullDownRefresh:{type:null,default:!1},pullUpLoad:{type:null,default:!1},startY:{type:Number,default:0},refreshDelay:{type:Number,default:20},freeScroll:{type:Boolean,default:!1}},data:function(){return{beforePullDown:!0,isRebounding:!1,isPullingDown:!1,pulling:!1,isPullUpLoad:!1,pullUpDirty:!0,pullDownStyle:"",bubbleY:0}},computed:{pullUpTxt:function(){var t=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.more||"加载更多",e=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.noMore||"没有更多数据了";return this.pullUpDirty?t:e},refreshTxt:function(){return this.pullDownRefresh&&this.pullDownRefresh.txt||"刷新成功"}},created:function(){this.pullDownInitTop=-60},mounted:function(){var t=this;setTimeout(function(){t.initScroll()},20)},methods:{initScroll:function(){var t=this;if(this.$refs.wrapper){this.$refs.list&&(this.pullDownRefresh||this.pullUpLoad)&&(this.$refs.list.style.minHeight=Object(u.c)(this.$refs.wrapper).height+"px");var e={probeType:this.probeType,click:this.click,scrollY:this.freeScroll||"vertical"===this.direction,scrollX:this.freeScroll||"horizontal"===this.direction,scrollbar:this.scrollbar,pullDownRefresh:this.pullDownRefresh,pullUpLoad:this.pullUpLoad,startY:this.startY,freeScroll:this.freeScroll};this.scroll=new r.a(this.$refs.wrapper,e),this.listenScroll&&this.scroll.on("scroll",function(e){t.$emit("scroll",e)}),this.listenBeforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScrollStart")}),this.pullDownRefresh&&this._initPullDownRefresh(),this.pullUpLoad&&this._initPullUpLoad()}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},destroy:function(){this.scroll.destroy()},forceUpdate:function(t){var e=this;this.pullDownRefresh&&this.isPullingDown?(this.pulling=!1,this._reboundPullDown().then(function(){e._afterPullDown()})):this.pullUpLoad&&this.isPullUpLoad?(this.isPullUpLoad=!1,this.scroll.finishPullUp(),this.pullUpDirty=t,this.refresh()):this.refresh()},_initPullDownRefresh:function(){var t=this;this.scroll.on("pullingDown",function(){t.beforePullDown=!1,t.isPullingDown=!0,t.pulling=!0,t.$emit("pullingDown")}),this.scroll.on("scroll",function(e){t.beforePullDown?(t.bubbleY=Math.max(0,e.y+t.pullDownInitTop),t.pullDownStyle="top:"+Math.min(e.y+t.pullDownInitTop,10)+"px"):t.bubbleY=0,t.isRebounding&&(t.pullDownStyle="top:"+(10-(t.pullDownRefresh.stop-e.y))+"px")})},_initPullUpLoad:function(){var t=this;this.scroll.on("pullingUp",function(){t.isPullUpLoad=!0,t.$emit("pullingUp")})},_reboundPullDown:function(){var t=this,e=this.pullDownRefresh.stopTime,i=void 0===e?600:e;return new s.a(function(e){setTimeout(function(){t.isRebounding=!0,t.scroll.finishPullDown(),t.isPullingDown=!1,e()},i)})},_afterPullDown:function(){var t=this;setTimeout(function(){t.pullDownStyle="top:"+t.pullDownInitTop+"px",t.beforePullDown=!0,t.isRebounding=!1,t.refresh()},this.scroll.options.bounceTime)}},watch:{data:function(){var t=this;setTimeout(function(){t.forceUpdate(!0)},this.refreshDelay)}},components:{Loading:o.a,Bubble:d.a}}},563:function(t,e,i){function l(t){i(564)}var s=i(8)(i(566),i(567),l,"data-v-4e94144a",null);t.exports=s.exports},564:function(t,e,i){var l=i(565);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("2fcd189e",l,!0)},565:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,"",""])},566:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{y:{type:Number,default:0}},data:function(){return{width:50,height:80}},computed:{distance:function(){return Math.max(0,Math.min(this.y*this.ratio,this.maxDistance))},style:function(){return"width:"+this.width/this.ratio+"px;height:"+this.height/this.ratio+"px"}},created:function(){this.ratio=window.devicePixelRatio,this.width*=this.ratio,this.height*=this.ratio,this.initRadius=18*this.ratio,this.minHeadRadius=12*this.ratio,this.minTailRadius=5*this.ratio,this.initArrowRadius=10*this.ratio,this.minArrowRadius=6*this.ratio,this.arrowWidth=3*this.ratio,this.maxDistance=40*this.ratio,this.initCenterX=25*this.ratio,this.initCenterY=25*this.ratio,this.headCenter={x:this.initCenterX,y:this.initCenterY}},mounted:function(){this._draw()},methods:{_draw:function(){var t=this.$refs.bubble,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this._drawBubble(e),this._drawArrow(e)},_drawBubble:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initRadius-(this.initRadius-this.minHeadRadius)*e;this.headCenter.y=this.initCenterY-(this.initRadius-this.minHeadRadius)*e,t.arc(this.headCenter.x,this.headCenter.y,i,0,Math.PI,!0);var l=this.initRadius-(this.initRadius-this.minTailRadius)*e,s={x:this.headCenter.x,y:this.headCenter.y+this.distance},n={x:s.x-l,y:s.y},r={x:n.x,y:n.y-this.distance/2};t.quadraticCurveTo(r.x,r.y,n.x,n.y),t.arc(s.x,s.y,l,Math.PI,0,!0);var a={x:this.headCenter.x+i,y:this.headCenter.y},o={x:s.x+l,y:a.y+this.distance/2};t.quadraticCurveTo(o.x,o.y,a.x,a.y),t.fillStyle="rgb(170,170,170)",t.fill(),t.strokeStyle="rgb(153,153,153)",t.stroke(),t.restore()},_drawArrow:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initArrowRadius-(this.initArrowRadius-this.minArrowRadius)*e;t.arc(this.headCenter.x,this.headCenter.y,i-(this.arrowWidth-e),-Math.PI/2,0,!0),t.arc(this.headCenter.x,this.headCenter.y,i,0,3*Math.PI/2,!1),t.lineTo(this.headCenter.x,this.headCenter.y-i-this.arrowWidth/2+e),t.lineTo(this.headCenter.x+2*this.arrowWidth-2*e,this.headCenter.y-i+this.arrowWidth/2),t.lineTo(this.headCenter.x,this.headCenter.y-i+3*this.arrowWidth/2-e),t.fillStyle="rgb(255,255,255)",t.fill(),t.strokeStyle="rgb(170,170,170)",t.stroke(),t.restore()}},watch:{y:function(){this._draw()}}}},567:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{ref:"bubble",style:t.style,attrs:{width:t.width,height:t.height}})},staticRenderFns:[]}},568:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"list-wrapper"},[i("div",{staticClass:"scroll-content"},[t._t("default"),t._v(" "),t._t("pullup",[t.pullUpLoad?i("div",{staticClass:"pullup-wrapper"},[t.isPullUpLoad?i("div",{staticClass:"after-trigger"},[i("loading")],1):i("div",{staticClass:"before-trigger"},[i("span",[t._v(t._s(t.pullUpTxt))])])]):t._e()],{pullUpLoad:t.pullUpLoad,isPullUpLoad:t.isPullUpLoad})],2),t._v(" "),t._t("pulldown",[t.pullDownRefresh?i("div",{ref:"pulldown",staticClass:"pulldown-wrapper",style:t.pullDownStyle},[t.beforePullDown?i("div",{staticClass:"before-trigger"},[i("bubble",{attrs:{y:t.bubbleY}})],1):i("div",{staticClass:"after-trigger"},[t.pulling?i("div",{staticClass:"loading"},[i("loading")],1):i("div",[i("span",[t._v(t._s(t.refreshTxt))])])])]):t._e()],{pullDownRefresh:t.pullDownRefresh,pullDownStyle:t.pullDownStyle,beforePullDown:t.beforePullDown,pulling:t.pulling,bubbleY:t.bubbleY})],2)},staticRenderFns:[]}},572:function(t,e,i){"use strict";function l(t){var e={tag:t,ac:"wap",count:20,format:"json_raw",as:"A105395B01A0730",cp:"59B130E75360FE1",min_behot_time:0};return Object(n.a)("https://m.toutiao.com/list/",e,{params:"jsonpCallback"})}function s(t){var e="https://m.toutiao.com/i"+t+"/info/",i={};return Object(n.a)(e,i,{params:"jsonpCallback"})}e.b=l,e.a=s;var n=i(178)},573:function(t,e,i){"use strict";function l(t){var e=Math.floor((new Date).getTime()/1e3),i=void 0,l=e-t;return l<60?i="刚刚":l>=60&&l<=3600?i=Math.floor(l/60)+"分钟前":l>=3600&&l<=86400?i=Math.floor(l/3600)+"小时前":l>=86400&&(i=Math.floor(l/86400)+"天前"),i}function s(t,e){var i=Math.floor(t.getTime()/1e3),l=void 0,s=i-e;return s<60?l="刚刚":s>=60&&s<=3600?l=Math.floor(s/60)+"分钟前":s>=3600&&s<=86400?l=Math.floor(s/3600)+"小时前":s>=86400&&(l=Math.floor(s/86400)+"天前"),l}function n(t){return((t|=0)/60|0)+":"+r(t%60)}function r(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=t.toString().length;i<e;)t="0"+t,i++;return t}e.b=l,e.c=s,e.a=n},634:function(t,e,i){var l=i(635);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("73b6eb30",l,!0)},635:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,".news-detail[data-v-857ee090]{position:fixed;z-index:100;top:0;left:0;bottom:0;right:0;background:#222}.news-detail .back[data-v-857ee090]{position:absolute;top:0;left:6px;z-index:50}.news-detail .back .icon-back[data-v-857ee090]{display:block;padding:10px;font-size:22px;color:#ffcd32}.news-detail .top-title[data-v-857ee090]{position:absolute;top:0;left:10%;z-index:40;width:80%;text-align:center;line-height:40px;font-size:18px;color:#fff}.news-detail .detail-wrapper[data-v-857ee090]{position:absolute;top:40px;bottom:0;width:100%}.news-detail .detail-wrapper .detail-content[data-v-857ee090]{height:100%;overflow:hidden}.news-detail .detail-wrapper .detail-content .media[data-v-857ee090]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 15px}.news-detail .detail-wrapper .detail-content .media .icon[data-v-857ee090]{-webkit-box-flex:0;-ms-flex:0 0 50px;flex:0 0 50px;width:50px;border-radius:50%;margin-right:15px;overflow:hidden}.news-detail .detail-wrapper .detail-content .media .icon .img[data-v-857ee090]{width:50px;height:50px;border-radius:50%}.news-detail .detail-wrapper .detail-content .media .text[data-v-857ee090]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:20px;overflow:hidden;font-size:14px}.news-detail .detail-wrapper .detail-content .media .text .name[data-v-857ee090]{margin-bottom:10px;color:#fff}.news-detail .detail-wrapper .detail-content .media .text .desc[data-v-857ee090]{color:hsla(0,0%,100%,.3)}.news-detail .detail-wrapper .detail-content .title[data-v-857ee090]{padding:0 15px;font-size:16px;color:#fff;font-weight:600;line-height:1.5}.news-detail .detail-wrapper .detail-content .content[data-v-857ee090]{padding:10px 15px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.news-detail .detail-wrapper .detail-content .content p[data-v-857ee090]{width:100%;overflow:hidden;font-size:14px;line-height:24px}.news-detail .detail-wrapper .detail-content .content img[data-v-857ee090]{display:block;width:100%}.slider-enter-active[data-v-857ee090],.slider-leave-active[data-v-857ee090]{-webkit-transition:all .3s;transition:all .3s}.slider-enter[data-v-857ee090],.slider-leave-to[data-v-857ee090]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}",""])},636:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(54),s=i.n(l),n=i(177),r=i.n(n),a=i(559),o=i.n(a),c=i(573),d=i(45),u=i(572);e.default={data:function(){return{newsDetail:[],scrollbar:!0,scrollbarFade:!0,isLoad:!1}},computed:s()({scrollbarObj:function(){return!!this.scrollbar&&{fade:this.scrollbarFade}},source:function(){return this.currentNew.source}},Object(d.c)(["currentNew"])),created:function(){this._getNewsDetail()},methods:{back:function(){this.$router.back()},_getNewsDetail:function(){var t=this;if(!this.currentNew.item_id||3===this.currentNew.label_style)return this.$router.push("/news"),!1;Object(u.a)(this.currentNew.item_id).then(function(e){e.data&&(t.newsDetail=t._normalizeNews(e.data),setTimeout(function(){t._loadImg(),t.$nextTick(function(){t.$refs.scroll.forceUpdate(),t.isLoad=!t.isLoad})},20))})},_normalizeNews:function(t){var e=[];return e.push(t),e.splice(-1,1)},_loadImg:function(){for(var t=this.$refs.content[0].getElementsByTagName("p"),e=this.$refs.content[0].getElementsByTagName("img"),i=0;i<t.length;i++)t[i].style.fontSize="15px",t[i].style.lineHeight="24px";for(var l=0;l<e.length;l++)e[l].style.width="100%",e[l].style.display="block";this.isLoad=!0},getAvatar:function(t){return t.avatar_url},getDesc:function(t){return t.is_original?'<span style="display: inline-block;padding:2px;border:1px solid #ffcd32;border-radius:4px;color:#ffcd32;font-size:10px;line-height:1;">原创</span>  '+Object(c.b)(t.publish_time):""+Object(c.b)(t.publish_time)},rebuildScroll:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.destroy(),t.$refs.scroll.initScroll()})}},watch:{scrollbarObj:function(){this.rebuildScroll()}},components:{Scroll:o.a,Loading:r.a}}},637:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slider"}},[i("div",{staticClass:"news-detail"},[i("div",{staticClass:"back",on:{click:t.back}},[i("i",{staticClass:"icon-back"})]),t._v(" "),i("h1",{staticClass:"top-title",domProps:{innerHTML:t._s(t.source)}}),t._v(" "),i("div",{staticClass:"detail-wrapper"},[i("scroll",{ref:"scroll",staticClass:"detail-content",attrs:{data:t.newsDetail,scrollbar:t.scrollbarObj}},[i("ul",{ref:"box",staticClass:"detail-group"},t._l(t.newsDetail,function(e){return i("li",[i("div",{ref:"title",refInFor:!0,staticClass:"title",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.media_user,expression:"item.media_user"}],ref:"media",refInFor:!0,staticClass:"media"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_pgc_article,expression:"item.is_pgc_article"}],staticClass:"icon"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getAvatar(e.media_user),expression:"getAvatar(item.media_user)"}],staticClass:"img"})]),t._v(" "),i("div",{staticClass:"text"},[i("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.source)}}),t._v(" "),i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.getDesc(e))}})])]),t._v(" "),i("div",{ref:"content",refInFor:!0,staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])}))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.newsDetail,expression:"!newsDetail"}],staticClass:"loading-container"},[i("loading")],1)],1)])])},staticRenderFns:[]}}});