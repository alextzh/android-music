webpackJsonp([1],{551:function(t,e,i){function l(t){i(616)}var s=i(8)(i(618),i(624),l,"data-v-76e921e0",null);t.exports=s.exports},559:function(t,e,i){function l(t){i(560)}var s=i(8)(i(562),i(568),l,null,null);t.exports=s.exports},560:function(t,e,i){var l=i(561);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("552ca49e",l,!0)},561:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,".list-wrapper{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;background:#222}.pulldown-wrapper{position:absolute;width:100%;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:all;transition:all}.pulldown-wrapper .after-trigger{margin-top:10px}.pullup-wrapper{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 0}",""])},562:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(82),s=i.n(l),n=i(179),o=i.n(n),r=i(177),a=i.n(r),u=i(563),c=i.n(u),h=i(122);e.default={props:{data:{type:Array,default:function(){return[]}},probeType:{type:Number,default:1},click:{type:Boolean,default:!0},listenScroll:{type:Boolean,default:!1},listenBeforeScroll:{type:Boolean,default:!1},direction:{type:String,default:"vertical"},scrollbar:{type:null,default:!1},pullDownRefresh:{type:null,default:!1},pullUpLoad:{type:null,default:!1},startY:{type:Number,default:0},refreshDelay:{type:Number,default:20},freeScroll:{type:Boolean,default:!1}},data:function(){return{beforePullDown:!0,isRebounding:!1,isPullingDown:!1,pulling:!1,isPullUpLoad:!1,pullUpDirty:!0,pullDownStyle:"",bubbleY:0}},computed:{pullUpTxt:function(){var t=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.more||"加载更多",e=this.pullUpLoad&&this.pullUpLoad.txt&&this.pullUpLoad.txt.noMore||"没有更多数据了";return this.pullUpDirty?t:e},refreshTxt:function(){return this.pullDownRefresh&&this.pullDownRefresh.txt||"刷新成功"}},created:function(){this.pullDownInitTop=-60},mounted:function(){var t=this;setTimeout(function(){t.initScroll()},20)},methods:{initScroll:function(){var t=this;if(this.$refs.wrapper){this.$refs.list&&(this.pullDownRefresh||this.pullUpLoad)&&(this.$refs.list.style.minHeight=Object(h.c)(this.$refs.wrapper).height+"px");var e={probeType:this.probeType,click:this.click,scrollY:this.freeScroll||"vertical"===this.direction,scrollX:this.freeScroll||"horizontal"===this.direction,scrollbar:this.scrollbar,pullDownRefresh:this.pullDownRefresh,pullUpLoad:this.pullUpLoad,startY:this.startY,freeScroll:this.freeScroll};this.scroll=new o.a(this.$refs.wrapper,e),this.listenScroll&&this.scroll.on("scroll",function(e){t.$emit("scroll",e)}),this.listenBeforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScrollStart")}),this.pullDownRefresh&&this._initPullDownRefresh(),this.pullUpLoad&&this._initPullUpLoad()}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},destroy:function(){this.scroll.destroy()},forceUpdate:function(t){var e=this;this.pullDownRefresh&&this.isPullingDown?(this.pulling=!1,this._reboundPullDown().then(function(){e._afterPullDown()})):this.pullUpLoad&&this.isPullUpLoad?(this.isPullUpLoad=!1,this.scroll.finishPullUp(),this.pullUpDirty=t,this.refresh()):this.refresh()},_initPullDownRefresh:function(){var t=this;this.scroll.on("pullingDown",function(){t.beforePullDown=!1,t.isPullingDown=!0,t.pulling=!0,t.$emit("pullingDown")}),this.scroll.on("scroll",function(e){t.beforePullDown?(t.bubbleY=Math.max(0,e.y+t.pullDownInitTop),t.pullDownStyle="top:"+Math.min(e.y+t.pullDownInitTop,10)+"px"):t.bubbleY=0,t.isRebounding&&(t.pullDownStyle="top:"+(10-(t.pullDownRefresh.stop-e.y))+"px")})},_initPullUpLoad:function(){var t=this;this.scroll.on("pullingUp",function(){t.isPullUpLoad=!0,t.$emit("pullingUp")})},_reboundPullDown:function(){var t=this,e=this.pullDownRefresh.stopTime,i=void 0===e?600:e;return new s.a(function(e){setTimeout(function(){t.isRebounding=!0,t.scroll.finishPullDown(),t.isPullingDown=!1,e()},i)})},_afterPullDown:function(){var t=this;setTimeout(function(){t.pullDownStyle="top:"+t.pullDownInitTop+"px",t.beforePullDown=!0,t.isRebounding=!1,t.refresh()},this.scroll.options.bounceTime)}},watch:{data:function(){var t=this;setTimeout(function(){t.forceUpdate(!0)},this.refreshDelay)}},components:{Loading:a.a,Bubble:c.a}}},563:function(t,e,i){function l(t){i(564)}var s=i(8)(i(566),i(567),l,"data-v-4e94144a",null);t.exports=s.exports},564:function(t,e,i){var l=i(565);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("2fcd189e",l,!0)},565:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,"",""])},566:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{y:{type:Number,default:0}},data:function(){return{width:50,height:80}},computed:{distance:function(){return Math.max(0,Math.min(this.y*this.ratio,this.maxDistance))},style:function(){return"width:"+this.width/this.ratio+"px;height:"+this.height/this.ratio+"px"}},created:function(){this.ratio=window.devicePixelRatio,this.width*=this.ratio,this.height*=this.ratio,this.initRadius=18*this.ratio,this.minHeadRadius=12*this.ratio,this.minTailRadius=5*this.ratio,this.initArrowRadius=10*this.ratio,this.minArrowRadius=6*this.ratio,this.arrowWidth=3*this.ratio,this.maxDistance=40*this.ratio,this.initCenterX=25*this.ratio,this.initCenterY=25*this.ratio,this.headCenter={x:this.initCenterX,y:this.initCenterY}},mounted:function(){this._draw()},methods:{_draw:function(){var t=this.$refs.bubble,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this._drawBubble(e),this._drawArrow(e)},_drawBubble:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initRadius-(this.initRadius-this.minHeadRadius)*e;this.headCenter.y=this.initCenterY-(this.initRadius-this.minHeadRadius)*e,t.arc(this.headCenter.x,this.headCenter.y,i,0,Math.PI,!0);var l=this.initRadius-(this.initRadius-this.minTailRadius)*e,s={x:this.headCenter.x,y:this.headCenter.y+this.distance},n={x:s.x-l,y:s.y},o={x:n.x,y:n.y-this.distance/2};t.quadraticCurveTo(o.x,o.y,n.x,n.y),t.arc(s.x,s.y,l,Math.PI,0,!0);var r={x:this.headCenter.x+i,y:this.headCenter.y},a={x:s.x+l,y:r.y+this.distance/2};t.quadraticCurveTo(a.x,a.y,r.x,r.y),t.fillStyle="rgb(170,170,170)",t.fill(),t.strokeStyle="rgb(153,153,153)",t.stroke(),t.restore()},_drawArrow:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initArrowRadius-(this.initArrowRadius-this.minArrowRadius)*e;t.arc(this.headCenter.x,this.headCenter.y,i-(this.arrowWidth-e),-Math.PI/2,0,!0),t.arc(this.headCenter.x,this.headCenter.y,i,0,3*Math.PI/2,!1),t.lineTo(this.headCenter.x,this.headCenter.y-i-this.arrowWidth/2+e),t.lineTo(this.headCenter.x+2*this.arrowWidth-2*e,this.headCenter.y-i+this.arrowWidth/2),t.lineTo(this.headCenter.x,this.headCenter.y-i+3*this.arrowWidth/2-e),t.fillStyle="rgb(255,255,255)",t.fill(),t.strokeStyle="rgb(170,170,170)",t.stroke(),t.restore()}},watch:{y:function(){this._draw()}}}},567:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{ref:"bubble",style:t.style,attrs:{width:t.width,height:t.height}})},staticRenderFns:[]}},568:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"list-wrapper"},[i("div",{staticClass:"scroll-content"},[t._t("default"),t._v(" "),t._t("pullup",[t.pullUpLoad?i("div",{staticClass:"pullup-wrapper"},[t.isPullUpLoad?i("div",{staticClass:"after-trigger"},[i("loading")],1):i("div",{staticClass:"before-trigger"},[i("span",[t._v(t._s(t.pullUpTxt))])])]):t._e()],{pullUpLoad:t.pullUpLoad,isPullUpLoad:t.isPullUpLoad})],2),t._v(" "),t._t("pulldown",[t.pullDownRefresh?i("div",{ref:"pulldown",staticClass:"pulldown-wrapper",style:t.pullDownStyle},[t.beforePullDown?i("div",{staticClass:"before-trigger"},[i("bubble",{attrs:{y:t.bubbleY}})],1):i("div",{staticClass:"after-trigger"},[t.pulling?i("div",{staticClass:"loading"},[i("loading")],1):i("div",[i("span",[t._v(t._s(t.refreshTxt))])])])]):t._e()],{pullDownRefresh:t.pullDownRefresh,pullDownStyle:t.pullDownStyle,beforePullDown:t.beforePullDown,pulling:t.pulling,bubbleY:t.bubbleY})],2)},staticRenderFns:[]}},616:function(t,e,i){var l=i(617);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("37ddc2ea",l,!0)},617:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,".list-container[data-v-76e921e0]{position:fixed;top:0;bottom:0;z-index:100;width:100%;background:#fff;color:#333}.list-container.slide-enter-active[data-v-76e921e0],.list-container.slide-leave-active[data-v-76e921e0]{-webkit-transition:all .3s;transition:all .3s}.list-container.slide-enter[data-v-76e921e0],.list-container.slide-leave-to[data-v-76e921e0]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.list-container .back[data-v-76e921e0]{position:absolute;top:0;left:6px;z-index:50}.list-container .back .icon-back[data-v-76e921e0]{display:block;padding:10px;font-size:22px;color:#ffcd32}.list-container .text[data-v-76e921e0]{display:block;vertical-align:top;line-height:44px;height:44px;font-size:18px;width:100%;text-align:center}.list-container .scroll-wrapper[data-v-76e921e0]{position:absolute;top:44px;bottom:0;width:100%}.list-container .scroll-wrapper .list-scroll[data-v-76e921e0]{height:100%;overflow:hidden}.list-container .scroll-wrapper .list-scroll .list-inner[data-v-76e921e0]{padding:20px 15px}",""])},618:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(619),s=i.n(l),n=["我是第 1 行","我是第 2 行","我是第 3 行","我是第 4 行","我是第 5 行","我是第 6 行","我是第 7 行","我是第 8 行","我是第 9 行","我是第 10 行","我是第 11 行","我是第 12 行","我是第 13 行","我是第 14 行","我是第 15 行","我是第 16 行","我是第 17 行","我是第 18 行","我是第 19 行","我是第 20 行"];e.default={data:function(){return{items:n,scrollbar:!1,pullDownRefresh:!0,pullUpLoad:!0,y:300,itemIndex:n.length}},methods:{back:function(){this.$router.back()},onPullingDown:function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1,t.items.unshift("我是新数据: "+ +new Date)},1e3)},onPullingUp:function(){var t=this,e=["我是第 "+ ++this.itemIndex+" 行","我是第 "+ ++this.itemIndex+" 行","我是第 "+ ++this.itemIndex+" 行","我是第 "+ ++this.itemIndex+" 行","我是第 "+ ++this.itemIndex+" 行"];setTimeout(function(){t.items=t.items.concat(e)},1e3)}},components:{ScrollList:s.a}}},619:function(t,e,i){function l(t){i(620)}var s=i(8)(i(622),i(623),l,"data-v-72284919",null);t.exports=s.exports},620:function(t,e,i){var l=i(621);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);i(542)("f285b384",l,!0)},621:function(t,e,i){e=t.exports=i(541)(!1),e.push([t.i,".list-wrapper[data-v-72284919]{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;background:#fff}.list-wrapper .list-content[data-v-72284919]{position:relative;z-index:10;background:#fff}.list-wrapper .list-content .list-item[data-v-72284919]{height:60px;line-height:60px;font-size:18px;padding-left:20px;border-bottom:1px solid #e5e5e5}.list-wrapper .loading-container[data-v-72284919]{position:absolute;width:100%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}",""])},622:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(559),s=i.n(l),n=i(177),o=i.n(n);e.default={name:"scroll-list",data:function(){return{items:[],scrollbar:!0,scrollbarFade:!0,pullDownRefresh:!0,pullDownRefreshThreshold:90,pullDownRefreshStop:40,pullUpLoad:!0,pullUpLoadThreshold:0,pullUpLoadMoreTxt:"加载更多",pullUpLoadNoMoreTxt:"没有更多数据了",startY:0,itemIndex:0}},computed:{scrollbarObj:function(){return!!this.scrollbar&&{fade:this.scrollbarFade}},pullDownRefreshObj:function(){return!!this.pullDownRefresh&&{threshold:parseInt(this.pullDownRefreshThreshold),stop:parseInt(this.pullDownRefreshStop)}},pullUpLoadObj:function(){return!!this.pullUpLoad&&{threshold:parseInt(this.pullUpLoadThreshold),txt:{more:this.pullUpLoadMoreTxt,noMore:this.pullUpLoadNoMoreTxt}}}},created:function(){for(var t=0;t<20;t++)this.items.push("我是第 "+ ++this.itemIndex+" 行")},methods:{clickItem:function(t){console.log(t)},onPullingDown:function(){var t=this;console.log("pulling down and load data"),setTimeout(function(){Math.random()>.5?t.items.unshift("我是新数据"+ +new Date):t.$refs.scroll.forceUpdate()},1e3)},onPullingUp:function(){var t=this;console.log("pulling up and load data"),setTimeout(function(){if(Math.random()>.5){for(var e=[],i=0;i<10;i++)e.push("我是第 "+ ++t.itemIndex+" 行");t.items=t.items.concat(e)}else t.$refs.scroll.forceUpdate()},1e3)},rebuildScroll:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.destroy(),t.$refs.scroll.initScroll()})}},watch:{scrollbarObj:function(){this.rebuildScroll()},pullDownRefreshObj:function(){this.rebuildScroll()},pullUpLoadObj:function(){this.rebuildScroll()},startY:function(){this.rebuildScroll()}},components:{Scroll:s.a,Loading:o.a}}},623:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll",{ref:"scroll",staticClass:"list-wrapper",attrs:{data:t.items,scrollbar:t.scrollbarObj,pullDownRefresh:t.pullDownRefreshObj,pullUpLoad:t.pullUpLoadObj,startY:parseInt(t.startY)},on:{pullingDown:t.onPullingDown,pullingUp:t.onPullingUp}},[i("ul",{ref:"list",staticClass:"list-content"},t._l(t.items,function(e){return i("li",{staticClass:"list-item",on:{click:function(i){t.clickItem(e)}}},[t._v(t._s(e))])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.items.length,expression:"!items.length"}],staticClass:"loading-container"},[i("loading")],1)])},staticRenderFns:[]}},624:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide"}},[i("div",{staticClass:"list-container"},[i("div",{staticClass:"back",on:{click:t.back}},[i("i",{staticClass:"icon-back"})]),t._v(" "),i("h1",{staticClass:"text"},[t._v("List")]),t._v(" "),i("div",{staticClass:"scroll-wrapper"},[i("scroll-list",{ref:"scrollList",attrs:{data:t.items,scrollbar:t.scrollbar,pullDownRefresh:t.pullDownRefresh,pullUpLoad:t.pullUpLoad},on:{pullingDown:t.onPullingDown,pullingUp:t.onPullingUp}})],1)])])},staticRenderFns:[]}}});